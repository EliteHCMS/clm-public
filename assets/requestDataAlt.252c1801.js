import{l as h,bU as y,c as w,w as v,_ as k,B as s,C as f,d as t,bs as l,bR as g,ad as u,E as $,bX as D}from"./index.5232afe7.js";import{Q as q}from"./QTd.5d1ee424.js";import{Q as R}from"./QTable.6be9dbf0.js";import{u as _}from"./use-quasar.30e2351a.js";import"./dayjs.2bff5ac3.js";const C=h({emits:["refreshData"],props:{requests:Array,status:String,loading:Boolean},setup(r,n){const d=_(),m=y(),c=w(()=>d.screen.gt.sm?[{name:"frontAction",align:"center",label:"",sortable:!1},{name:"created",align:"left",label:"Created",field:"1",sortable:!0},{name:2,label:"ID",align:"left",field:a=>a[3],format:a=>`${a}`,sortable:!0,required:!0},{name:3,label:"Type",align:"left",field:a=>a[282],format:a=>`${a===""?"Open":a}`,sortable:!0,required:!0},{name:4,label:"Office",align:"left",field:a=>a[103],format:a=>`${a}`,sortable:!0},{name:5,label:"Job #",align:"left",field:a=>a[27],format:a=>`${a}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:a=>i(a),format:a=>`${a}`},{name:7,label:"Offers",align:"right",field:a=>e(a),format:a=>`${a}`,sortable:!0,required:!0},{name:8,label:"Deployed",align:"right",field:a=>a[254],format:a=>`${a}`,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:a=>o(a),format:a=>`${a}`,sortable:!0,required:!0}]:[{name:"frontAction",align:"center",label:"",sortable:!1},{name:"created",align:"left",label:"Created",field:"1",sortable:!1},{name:2,label:"ID",align:"left",field:a=>a[3],format:a=>`${a}`,sortable:!0,required:!0},{name:3,label:"Type",align:"left",field:a=>a[282],format:a=>`${a===""?"Open":a}`,sortable:!0,required:!0},{name:4,label:"Office",align:"left",field:a=>a[103],format:a=>`${a}`,sortable:!0},{name:5,label:"Job #",align:"left",field:a=>a[27],format:a=>`${a}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:a=>i(a),format:a=>`${a}`},{name:7,label:"Offers",align:"right",field:a=>e(a),format:a=>`${a}`,sortable:!0,required:!0},{name:8,label:"Deployed",align:"right",field:a=>a[254],format:a=>`${a}`,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:a=>o(a),format:a=>`${a}`,sortable:!0,required:!0}]);function i(a){return a.classes.reduce((b,p)=>b+p[18],0)}function e(a){return a.offers.filter(b=>b[21]==="Accepted").length}function o(a){const b=i(a),p=e(a);return b-p}function T(a){m.push({name:"hire-request",params:{id:a[3]}})}return v(r.requests,()=>{console.log(r.requests)}),{columns:c,props:r,viewRequest:T}}}),B={key:0},O={key:1},A={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function L(r,n,d,m,c,i){return s(),f("div",null,[t(R,{columns:r.columns,rows:r.requests,"row-key":e=>e[3],class:"q-pa-sm",pagination:{rowsPerPage:25},"table-header-class":"bg-dark text-white","no-data-label":`There are no ${r.status} requests`,dense:"",loading:r.loading},{"body-cell-frontAction":l(e=>[t(q,{props:e},{default:l(()=>[t(g,{class:"cursor-pointer",size:r.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:o=>r.viewRequest(e.row),name:e.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),_:2},1032,["props"])]),"body-cell-created":l(e=>[t(q,{props:e},{default:l(()=>[r.$dayjs(e.value).isValid()?(s(),f("div",B,u(e.value.format("L LT")),1)):(s(),f("div",O,u(e.row[1].format("L LT")),1))]),_:2},1032,["props"])]),"no-data":l(({message:e})=>[$("div",A,[t(g,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),$("span",null,u(e),1)])]),"top-right":l(()=>[t(D,{color:"secondary",flat:"","icon-right":"refresh",label:"Refresh",onClick:n[0]||(n[0]=e=>r.$emit("refreshData"))})]),_:1},8,["columns","rows","row-key","no-data-label","loading"])])}var E=k(C,[["render",L]]);const Q=h({emits:["refreshData"],props:{requests:Array,status:String,loading:Boolean},setup(r,n){const d=_(),m=y(),c=w(()=>d.screen.gt.sm?[{name:"frontAction",align:"center",label:"",sortable:!1},{name:"created",align:"left",label:"Created",field:"1",sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:4,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e[115],format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e[232],format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Deployed",align:"right",field:e=>e[254],format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:e=>e[258],format:e=>`${e}`,sortable:!0,required:!0}]:[{name:"frontAction",align:"center",label:"",sortable:!1},{name:"created",align:"left",label:"Created",field:"1",sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:4,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>o=>o[115],format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e[232],format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Deployed",align:"right",field:e=>e[254],format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:e=>e[258],format:e=>`${e}`,sortable:!0,required:!0}]);function i(e){m.push({name:"hire-request",params:{id:e[3]}})}return v(r.requests,()=>{console.log(r.requests)}),{columns:c,props:r,viewRequest:i}}}),z={key:0},I={key:1},J={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function P(r,n,d,m,c,i){return s(),f("div",null,[t(R,{columns:r.columns,rows:r.requests,"row-key":e=>e[3],class:"q-pa-sm",pagination:{rowsPerPage:25},"table-header-class":"bg-dark text-white","no-data-label":`There are no ${r.status} requests`,dense:"",loading:r.loading},{"body-cell-frontAction":l(e=>[t(q,{props:e},{default:l(()=>[t(g,{class:"cursor-pointer",size:r.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:o=>r.viewRequest(e.row),name:e.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),_:2},1032,["props"])]),"body-cell-created":l(e=>[t(q,{props:e},{default:l(()=>[r.$dayjs(e.value).isValid()?(s(),f("div",z,u(e.value.format("L LT")),1)):(s(),f("div",I,u(e.row[1].format("L LT")),1))]),_:2},1032,["props"])]),"no-data":l(({message:e})=>[$("div",J,[t(g,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),$("span",null,u(e),1)])]),"top-right":l(()=>[t(D,{color:"secondary",flat:"","icon-right":"refresh",label:"Refresh",onClick:n[0]||(n[0]=e=>r.$emit("refreshData"))})]),_:1},8,["columns","rows","row-key","no-data-label","loading"])])}var U=k(Q,[["render",P]]);export{E as R,U as a};
