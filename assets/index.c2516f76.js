import{a4 as Qe,r as S,bU as Y,c as $,w as le,y as x,ap as F,au as He,b3 as Ge,bq as m,A as Xe,aa as We,aG as ze,a7 as G,B as h,ab as j,E as Ke,_ as Ye,l as Ze,bS as Je,b4 as X,d as y,cT as et,bN as tt,cU as ue,cV as W,cW as rt,bV as se,aq as L,z as nt,aw as z,dj as ce}from"./index.b35eeed3.js";import{Q as at}from"./QSpinnerGears.6a7643ab.js";import{Q as ot}from"./QForm.6c8993a8.js";import{Q as D}from"./QTd.a7c86421.js";import{Q as it}from"./QTable.c08ed117.js";import{Q as lt}from"./QPage.6f4063c4.js";import{a as ut,u as K}from"./vee-validate.esm.0c700e69.js";import{a as st,c as k}from"./array.164cfe36.js";import{c as Se,u as Pe,b as ct,q}from"./app.31ce29fc.js";import{u as ft}from"./use-quasar.6afddd70.js";import{V as w,M as ae,P as oe,a as Z,b as pt,c as mt,d as dt,e as yt,m as bt,i as vt,f as gt,g as ht,h as _t,j as Nt,k as Ot,w as St,p as Pt}from"./VueTelInput.708968f3.js";import{a as Et}from"./QSelect.2ba35ed2.js";import{_ as wt}from"./officeSelector.301b3575.js";import"./QList.5b498127.js";import"./QMarkupTable.39675ceb.js";import"./use-fullscreen.36eb3617.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.c324749c.js";import"./localForage.504e0e11.js";import"./index.04bc0a32.js";import"./i18n.a721d321.js";import"./QChip.86c715a9.js";import"./QMenu.fc0510b6.js";import"./position-engine.301e00c6.js";import"./selection.423f1a2d.js";import"./rtl.b51694b1.js";function J(e){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ct(e,t,r){return t&&fe(e.prototype,t),r&&fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function Rt(e){var t=we();return function(){var n=V(e),a;if(t){var i=V(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return xt(this,a)}}function xt(e,t){if(t&&(J(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function Ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){var t=typeof Map=="function"?new Map:void 0;return ee=function(n){if(n===null||!jt(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Q(n,arguments,V(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),M(a,n)},ee(e)}function Q(e,t,r){return we()?Q=Reflect.construct:Q=function(a,i,l){var u=[null];u.push.apply(u,i);var s=Function.bind.apply(a,u),o=new s;return l&&M(o,l.prototype),o},Q.apply(null,arguments)}function we(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function M(e,t){return M=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},M(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},V(e)}var C=function(e){At(r,e);var t=Rt(r);function r(n){var a;return Tt(this,r),a=t.call(this,n),Object.setPrototypeOf(Ee(a),r.prototype),a.name=a.constructor.name,a}return Ct(r)}(ee(Error)),It=";ext=",U=function(t){return"([".concat(w,"]{1,").concat(t,"})")};function Ce(e){var t="20",r="15",n="9",a="6",i="[ \xA0\\t,]*",l="[:\\.\uFF0E]?[ \xA0\\t,-]*",u="#?",s="(?:e?xt(?:ensi(?:o\u0301?|\xF3))?n?|\uFF45?\uFF58\uFF54\uFF4E?|\u0434\u043E\u0431|anexo)",o="(?:[x\uFF58#\uFF03~\uFF5E]|int|\uFF49\uFF4E\uFF54)",f="[- ]+",p="[ \xA0\\t]*",b="(?:,{2}|;)",O=It+U(t),E=i+s+l+U(t)+u,A=i+o+l+U(n)+u,g=f+U(a)+"#",_=p+b+l+U(r)+u,T=p+"(?:,)+"+l+U(n)+u;return O+"|"+E+"|"+A+"|"+g+"|"+_+"|"+T}var Ut="["+w+"]{"+ae+"}",Ft="["+oe+"]{0,1}(?:["+Z+"]*["+w+"]){3,}["+Z+w+"]*",Lt=new RegExp("^["+oe+"]{0,1}(?:["+Z+"]*["+w+"]){1,2}$","i"),Dt=Ft+"(?:"+Ce()+")?",$t=new RegExp("^"+Ut+"$|^"+Dt+"$","i");function Mt(e){return e.length>=ae&&$t.test(e)}function Vt(e){return Lt.test(e)}var pe=new RegExp("(?:"+Ce()+")$","i");function Bt(e){var t=e.search(pe);if(t<0)return{};for(var r=e.slice(0,t),n=e.match(pe),a=1;a<n.length;){if(n[a])return{number:r,ext:n[a]};a++}}function kt(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=qt(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qt(e,t){if(!!e){if(typeof e=="string")return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}}function me(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e){for(var t="",r=kt(e.split("")),n;!(n=r()).done;){var a=n.value;t+=Qt(a,t)||""}return t}function Qt(e,t){return e==="+"?t?void 0:"+":pt(e)}var Te="+",Ht="[\\-\\.\\(\\)]?",ye="(["+w+"]|"+Ht+")",Gt="^\\"+Te+ye+"*["+w+"]"+ye+"*$",Xt=new RegExp(Gt,"g"),te=w,Wt="["+te+"]+((\\-)*["+te+"])*",zt="a-zA-Z",Kt="["+zt+"]+((\\-)*["+te+"])*",Yt="^("+Wt+"\\.)*"+Kt+"\\.?$",Zt=new RegExp(Yt,"g"),be="tel:",re=";phone-context=",Jt=";isub=";function er(e){var t=e.indexOf(re);if(t<0)return null;var r=t+re.length;if(r>=e.length)return"";var n=e.indexOf(";",r);return n>=0?e.substring(r,n):e.substring(r)}function tr(e){return e===null?!0:e.length===0?!1:Xt.test(e)||Zt.test(e)}function rr(e,t){var r=t.extractFormattedPhoneNumber,n=er(e);if(!tr(n))throw new C("NOT_A_NUMBER");var a;if(n===null)a=r(e)||"";else{a="",n.charAt(0)===Te&&(a+=n);var i=e.indexOf(be),l;i>=0?l=i+be.length:l=0;var u=e.indexOf(re);a+=e.substring(l,u)}var s=a.indexOf(Jt);if(s>0&&(a=a.substring(0,s)),a!=="")return a}var nr=250,ar=new RegExp("["+oe+w+"]"),or=new RegExp("[^"+w+"#]+$");function ir(e,t,r){if(t=t||{},r=new mt(r),t.defaultCountry&&!r.hasCountry(t.defaultCountry))throw t.v2?new C("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var n=ur(e,t.v2,t.extract),a=n.number,i=n.ext,l=n.error;if(!a){if(t.v2)throw l==="TOO_SHORT"?new C("TOO_SHORT"):new C("NOT_A_NUMBER");return{}}var u=cr(a,t.defaultCountry,t.defaultCallingCode,r),s=u.country,o=u.nationalNumber,f=u.countryCallingCode,p=u.countryCallingCodeSource,b=u.carrierCode;if(!r.hasSelectedNumberingPlan()){if(t.v2)throw new C("INVALID_COUNTRY");return{}}if(!o||o.length<ae){if(t.v2)throw new C("TOO_SHORT");return{}}if(o.length>dt){if(t.v2)throw new C("TOO_LONG");return{}}if(t.v2){var O=new yt(f,o,r.metadata);return s&&(O.country=s),b&&(O.carrierCode=b),i&&(O.ext=i),O.__countryCallingCodeSource=p,O}var E=(t.extended?r.hasSelectedNumberingPlan():s)?bt(o,r.nationalNumberPattern()):!1;return t.extended?{country:s,countryCallingCode:f,carrierCode:b,valid:E,possible:E?!0:!!(t.extended===!0&&r.possibleLengths()&&vt(o,r)),phone:o,ext:i}:E?sr(s,o,i):{}}function lr(e,t,r){if(!!e){if(e.length>nr){if(r)throw new C("TOO_LONG");return}if(t===!1)return e;var n=e.search(ar);if(!(n<0))return e.slice(n).replace(or,"")}}function ur(e,t,r){var n=rr(e,{extractFormattedPhoneNumber:function(l){return lr(l,r,t)}});if(!n)return{};if(!Mt(n))return Vt(n)?{error:"TOO_SHORT"}:{};var a=Bt(n);return a.ext?a:{number:n}}function sr(e,t,r){var n={country:e,phone:t};return r&&(n.ext=r),n}function cr(e,t,r,n){var a=gt(de(e),t,r,n.metadata),i=a.countryCallingCodeSource,l=a.countryCallingCode,u=a.number,s;if(l)n.selectNumberingPlan(l);else if(u&&(t||r))n.selectNumberingPlan(t,r),t&&(s=t),l=r||ht(t,n.metadata);else return{};if(!u)return{countryCallingCodeSource:i,countryCallingCode:l};var o=_t(de(u),n),f=o.nationalNumber,p=o.carrierCode,b=Nt(l,{nationalNumber:f,defaultCountry:t,metadata:n});return b&&(s=b,b==="001"||n.country(s)),{country:s,countryCallingCode:l,countryCallingCodeSource:i,nationalNumber:f,carrierCode:p}}function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ve(Object(r),!0).forEach(function(n){fr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pr(e,t,r){return ir(e,ge(ge({},t),{},{v2:!0}),r)}function ne(e){return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(e)}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?he(Object(r),!0).forEach(function(n){dr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yr(e,t){return hr(e)||gr(e,t)||vr(e,t)||br()}function br(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vr(e,t){if(!!e){if(typeof e=="string")return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _e(e,t)}}function _e(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,l,u;try{for(r=r.call(e);!(a=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function hr(e){if(Array.isArray(e))return e}function _r(e){var t=Array.prototype.slice.call(e),r=yr(t,4),n=r[0],a=r[1],i=r[2],l=r[3],u,s,o;if(typeof n=="string")u=n;else throw new TypeError("A text for parsing must be a string.");if(!a||typeof a=="string")l?(s=i,o=l):(s=void 0,o=i),a&&(s=mr({defaultCountry:a},s));else if(Nr(a))i?(s=a,o=i):o=a;else throw new Error("Invalid second argument: ".concat(a));return{text:u,options:s,metadata:o}}var Nr=function(t){return ne(t)==="object"};function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ne(Object(r),!0).forEach(function(n){Or(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e,t,r){t&&t.defaultCountry&&!Ot(t.defaultCountry,r)&&(t=Oe(Oe({},t),{},{defaultCountry:void 0}));try{return pr(e,t,r)}catch(n){if(!(n instanceof C))throw n}}function Pr(){var e=_r(arguments),t=e.text,r=e.options,n=e.metadata;return Sr(t,r,n)}function Er(){return St(Pr,arguments)}const wr={class:"text-primary"},Cr={__name:"projectSelectorAlt",props:{can:{type:String,default:"read"},styleSelection:{type:Boolean,default:!1}},setup(e){const t=e,{styleSelection:r}=Qe(t),n=S(!1),a=Se(),{getUserType:i,getUser:l}=Pe(),{setSelectedProject:u,fetchProjects:s,fetchAllProjects:o}=a,{getProjects:f,getSelectedProject:p,getSelectedOffice:b}=Y(a),O=S(b.value?b.value[8]:null),E=S(p.value?p.value[3]:null),A=S(i==="Project User"?l[3]:O),g=$(()=>f.value({userType:i,selectedId:A.value,can:"read"}).filter(v=>!0).sort((v,P)=>v[298].localeCompare(P[298]))),_=v=>{u(v)},T=(v=!1)=>{n.value===!1&&(n.value=!0,A.value&&i==="QuickBase User"?s({selectedId:A.value,extendTime:60,refresh:v}).then(()=>{p.value||(g.value.length>1&&g.value.forEach(P=>{P[15]===!0&&_(P)}),p.value||_(g.value[0])),n.value=!1}):o({can:"read",extendTime:60,refresh:v}).then(()=>{p.value||(g.value.length>1&&g.value.forEach(P=>{P[15]===!0&&_(P)}),p.value||_(g.value[0])),n.value=!1}))};return i==="QuickBase User"&&(g.value.length===0&&T(!0),le(b,()=>{O.value=b.value?b.value[8]:null,T()})),i==="Project User"&&(g.value.length===0&&T(!0),le(p,()=>{E.value=p.value?p.value[3]:null,T()})),p.value||(g.value.length>1&&g.value.forEach(v=>{v[15]===!0&&_(v)}),p.value||_(g.value[0])),(v,P)=>(x(),F(Et,Ke({"model-value":G(p),options:g.value},v.$attrs,{"onUpdate:modelValue":_,label:G(p)?"Project":"Select Project",clearable:!1,"option-label":"298","option-value":"3"}),He({_:2},[Ge(v.$slots,(B,I)=>({name:I,fn:m(H=>[Xe(v.$slots,I,We(ze(H)))])})),G(r)?{name:"selected-item",fn:m(B=>[h("span",wr,j(B.opt[298]),1)]),key:"0"}:void 0]),1040,["model-value","options","label"]))}},Tr=Ze({components:{phoneNumberInput:Pt,projectSelector:Cr,officeSelector:wt},setup(e){const t=ft(),r=Pe(),n=Se(),{userData:a,userOffices:i,userProjects:l}=Y(r),{getSelectedProject:u,getSelectedOffice:s}=Y(n),o=Je(),{userType:f}=ct(),p=S(null),b=S(!1),O=S({sortBy:"1",descending:!0,rowsPerPage:150}),E=S(10),A=S(null),g=S(!1),_=S([]),T=a.value&&a.value[6]?a.value[6]:"",v=a.value&&a.value[3]?a.value[3]:"",P=c=>{A.value=c},B=$(()=>{const c=new RegExp("^[0-9]{"+E.value+"}","g");return st({firstName:k().required().label("First Name"),lastName:k().required().label("Last Name"),email:k().email().required().label("Email"),phoneNumber:k().matches(c,{excludeEmptyString:!0,message:"Valid Phone Number Required!"}).required().label("Phone Number")})}),I=Er(a.value[8]);I.country==="IN"&&P({name:"India (\u092D\u093E\u0930\u0924)",iso2:"IN",dialCode:"91",iso2sm:"in"});const{meta:H,errors:Ae,handleSubmit:Re,isSubmitting:xe}=ut({validationSchema:B,initialValues:{type:"",category:f==="QuickBase User"?"Craft Employee Management":"Worksite Management Portal",phoneNumber:a.value&&I.isValid()?I.nationalNumber:"",firstName:a.value&&a.value[35]?a.value[35]:"",lastName:a.value&&a.value[37]?a.value[37]:"",userEmail:a.value&&a.value[6]?a.value[6]:""}}),{value:je}=K("firstName"),{value:Ie}=K("lastName"),{value:Ue}=K("phoneNumber");(async()=>{_.value=[];try{let c="";f==="QuickBase User"?i.value().filter(R=>R[10]!=="service_account@elitehcms.com").forEach(R=>{c+=`{'6'.EX.'${R[3]}'}OR`}):f==="Project User"&&l.value().forEach(R=>{c+=`{'6'.EX.'${R[3]}'}OR`});const d=[{6:{value:"btg2x627m"},7:{value:"Table Query"},8:{value:c},9:{value:1},14:{value:19}}],{data:N}=await q.fetchFromStructureApp({fields:d});_.value=N}catch(c){console.log(c),t.notify({position:"top-right",type:"negative",message:"There was a problem fetching request!"})}})();const Fe=$(()=>["type","notificationType","immediately","daily",...f==="QuickBase User"&&!s.value?["office"]:[],f==="Project User"&&!u.value?["project"]:[]]),Le=$(()=>[{name:"office",align:"left",label:"Office",field:"30",sortable:!0},{name:"project",align:"left",label:"Project",field:"31",sortable:!0},{name:"notificationType",align:"left",label:"Notification Reason",field:"8",sortable:!1},{name:"type",align:"left",label:"Type",field:"7",sortable:!0},{name:"immediately",align:"left",label:"Immediately",field:"23",sortable:!0},{name:"daily",align:"left",label:"Daily",field:"24",sortable:!1}]),De=$(()=>_.value.filter(c=>{let d=!0,N=!0;return u.value&&f==="Project User"&&(d=c[15]===u.value[3],d||(N=!1)),s.value&&f==="QuickBase User"&&(d=c[14]===s.value[8],d||(N=!1)),N}).sort((c,d)=>c.name.localeCompare(d.name)||c[8].localeCompare(d[8]))),$e=Re(async c=>{try{const d=[{3:{value:v},8:{value:c.phoneNumber},35:{value:c.firstName},37:{value:c.lastName}}],{data:N}=await q.upsertRecordsXML({to:"btg2x627m",fieldsToReturn:[32],data:d,formatObject:32});ie()}catch(d){console.log(d),t.notify({position:"top-right",type:"negative",message:"There was a problem submitting request!"})}}),Me=_.value[23],Ve=_.value[24],Be=async(c,d)=>{try{const N=[{3:{value:d[3]},23:{value:c}}],{data:R}=await q.upsertRecordsXML({to:"btg2x627m",fieldsToReturn:[19],data:N,formatObject:19});d[23]=c,t.notify({position:"top-right",type:`${c===!0?"positive":"info"}`,icon:`${c===!0?"notifications_active":"notifications_off"}`,message:`Notification ${c===!0?"Enabled":"Disabled"}`})}catch(N){console.log(N),t.notify({position:"top-right",type:"negative",message:"There was a problem submitting request!"})}},ke=async(c,d)=>{try{const N=[{3:{value:d[3]},24:{value:c}}],{data:R}=await q.upsertRecordsXML({to:"btg2x627m",fieldsToReturn:[19],data:N,formatObject:19});d[24]=c,t.notify({position:"top-right",type:`${c===!0?"positive":"info"}`,icon:`${c===!0?"notifications_active":"notifications_off"}`,message:`Notification ${c===!0?"Enabled":"Disabled"}`})}catch(N){console.log(N),t.notify({position:"top-right",type:"negative",message:"There was a problem submitting request!"})}},qe=c=>{E.value=c},ie=()=>{f==="QuickBase User"?window.close():o.go(-1)};return{phoneNumber:Ue,firstName:je,lastName:Ie,userEmail:T,id:v,formMeta:H,formErrors:Ae,updateUserDetails:$e,updateNotificationSettings:Be,updateNotificationSettingsDaily:ke,isSubmitting:xe,tableRef:p,userType:f,immediately:Me,daily:Ve,navigationActive:g,filter:S(""),selected:b,pagination:O,rows:De,columns:Le,visibleColumns:Fe,updatePhoneMaxLength:qe,updateCountry:P,closeSettings:ie}}}),Ar={class:"row justify-center items-start"},Rr={class:"col-10"},xr=h("div",{class:"text-h5 text-dark"},"User Settings",-1),jr={class:"row"},Ir={class:"col-12 col-md-6 q-pr-md"},Ur={class:"text-caption"},Fr={class:"col-12 col-md-6 q-pr-md"},Lr={class:"text-caption"},Dr={class:"row"},$r={class:"col-12 col-md-6 q-pr-md"},Mr={class:"col-12 col-md-6 q-pr-md"},Vr={class:"text-caption"},Br={key:0,class:"q-pa-md"},kr=h("br",null,null,-1),qr={class:"q-pa-md"},Qr={class:"q-pa-md"};function Hr(e,t,r,n,a,i){const l=X("phone-number-input"),u=X("projectSelector"),s=X("officeSelector");return x(),F(lt,{style:{"max-width":"100%","max-height":"100vh"}},{default:m(()=>[h("div",Ar,[h("div",Rr,[y(et,{flat:""},{default:m(()=>[y(ot,{onSubmit:tt(e.updateUserDetails,["prevent"])},{default:m(()=>[y(ue,{class:"q-pb-lg"},{default:m(()=>[xr]),_:1}),y(ue,{class:"q-pl-lg q-pt-none"},{default:m(()=>[h("div",jr,[h("div",Ir,[y(W,{class:"q-mb-md",dense:"",outlined:"",maxlength:"30",tabindex:"1",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=o=>e.firstName=o),error:!!e.formErrors.firstName,"bottom-slots":"",disable:e.isSubmitting},{error:m(()=>[h("div",Ur,j(e.formErrors.firstName),1)]),_:1},8,["modelValue","error","disable"])]),h("div",Fr,[y(W,{class:"q-mb-md",dense:"",outlined:"",maxlength:"100",tabindex:"2",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=o=>e.lastName=o),error:!!e.formErrors.lastName,"bottom-slots":"",disable:e.isSubmitting},{error:m(()=>[h("div",Lr,j(e.formErrors.lastName),1)]),_:1},8,["modelValue","error","disable"])])]),h("div",Dr,[h("div",$r,[y(l,{name:"phoneNumber",class:"col-xs-12 col-sm-12",dense:"",outlined:"",modelValue:e.phoneNumber,"onUpdate:modelValue":t[2]||(t[2]=o=>e.phoneNumber=o),label:"Phone Number",tabindex:"3",onMaxLengthChanged:e.updatePhoneMaxLength,error:!!e.formErrors.phoneNumber,"error-message":e.formErrors.phoneNumber,onCountryChanged:e.updateCountry},null,8,["modelValue","onMaxLengthChanged","error","error-message","onCountryChanged"])]),h("div",Mr,[y(W,{class:"q-mb-md",dense:"",outlined:"",maxlength:"100",label:"Email",modelValue:e.userEmail,"onUpdate:modelValue":t[3]||(t[3]=o=>e.userEmail=o),hint:"Readonly",readonly:"",error:!!e.formErrors.userEmail,"bottom-slots":"",disable:e.isSubmitting},{error:m(()=>[h("div",Vr,j(e.formErrors.userEmail),1)]),_:1},8,["modelValue","error","disable"])])])]),_:1}),y(rt,{class:"q-pl-lg q-py-lg",align:"right"},{default:m(()=>[e.formMeta.dirty||e.userType==="QuickBase User"?(x(),F(se,{key:0,loading:e.isSubmitting,disable:e.isSubmitting,color:"primary",label:"Save & Close",type:"submit"},{loading:m(()=>[y(at)]),_:1},8,["loading","disable"])):L("",!0),e.formMeta.dirty||e.userType==="QuickBase User"?(x(),F(se,{key:1,class:"q-mr-lg",color:"secondary",label:"Cancel",onClick:e.closeSettings},null,8,["onClick"])):L("",!0)]),_:1})]),_:1},8,["onSubmit"])]),_:1}),e.userType==="Project User"||e.userType==="QuickBase User"?(x(),nt("div",Br,[e.userType==="Project User"?(x(),F(u,{key:0,debounce:"300",dense:"",styleSelection:!0})):L("",!0),e.userType==="QuickBase User"?(x(),F(s,{key:1,can:"read",styleSelection:!0})):L("",!0),kr,y(it,{rows:e.rows,columns:e.columns,pagination:e.pagination,filter:e.filter,separator:"vertical","row-key":"3","visible-columns":e.visibleColumns},{"body-cell-type":m(o=>[y(D,{key:"type",props:o},{default:m(()=>[z(j(o.value),1)]),_:2},1032,["props"])]),"body-cell-project":m(o=>[y(D,{key:"type",props:o},{default:m(()=>[z(j(o.value),1)]),_:2},1032,["props"])]),"body-cell-notificationType":m(o=>[y(D,{key:"notificationType",props:o},{default:m(()=>[z(j(o.value),1)]),_:2},1032,["props"])]),"body-cell-immediately":m(o=>[y(D,{key:"immediately",props:o},{default:m(()=>[h("div",qr,[y(ce,{"model-value":o.value,"onUpdate:modelValue":f=>e.updateNotificationSettings(f,o.row)},null,8,["model-value","onUpdate:modelValue"])])]),_:2},1032,["props"])]),"body-cell-daily":m(o=>[y(D,{key:"daily",props:o},{default:m(()=>[h("div",Qr,[y(ce,{"model-value":o.value,"onUpdate:modelValue":f=>e.updateNotificationSettingsDaily(f,o.row)},null,8,["model-value","onUpdate:modelValue"])])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","filter","visible-columns"])])):L("",!0)])])]),_:1})}var _n=Ye(Tr,[["render",Hr]]);export{_n as default};
