import{bW as Ae,r as _,c as T,d2 as Ye,aP as Me,cu as Se,h as z,g as Ve,bV as x,a4 as $e,bS as De,y as C,z as $,d as o,bq as n,B as y,C as ie,cT as F,D as ue,a7 as S,cU as q,aw as Y,ab as Q,ap as U,aq as G,cV as E,bN as ce,bR as je,F as de,b3 as me,bQ as Qe,bO as fe,bP as qe,cW as te,cz as ae,df as Pe,bs as Te,_ as Ne,bU as ve,b4 as pe}from"./index.48ce5b72.js";import{Q as ge,a as Re}from"./QSelect.06d0b9ce.js";import{Q as Be}from"./QPage.eef4aa2f.js";import{u as _e}from"./use-quasar.468e1258.js";import{f as ye,g as Ie,u as Oe,i as be,q as j}from"./app.5e67c239.js";import{dayjs as c}from"./dayjs.9bb68654.js";import{u as ze}from"./dataStore.e8d02f93.js";import{Q as we}from"./QTooltip.f21cfa79.js";import{Q as Fe}from"./QMenu.62e1eee7.js";import{Q as Ue}from"./QList.1735c3ac.js";import{Q as Ee}from"./QTd.3c8ae2d8.js";import{Q as Le}from"./QTr.9c84673a.js";import{Q as He}from"./QInnerLoading.bb9bb1a9.js";import{Q as We}from"./QTable.68f70e77.js";import{C as Xe}from"./ClosePopup.b4571d78.js";import"./arrivalDate.4ca1de77.js";import{u as Je}from"./index.207f79eb.js";import{_ as Ke}from"./projectSelector.c3a9b73c.js";import"./QChip.d193a000.js";import"./rtl.b51694b1.js";import"./_commonjsHelpers.a26ce4be.js";import"./localForage.a179cfc1.js";import"./index.04bc0a32.js";import"./i18n.0c36ad49.js";import"./position-engine.a6f346a0.js";import"./selection.e8d17b8a.js";import"./QMarkupTable.5a189cd0.js";import"./use-fullscreen.735db5b1.js";import"./QForm.bcdbd200.js";import"./vee-validate.esm.51002094.js";import"./array.164cfe36.js";import"./useQuerySaver.d29ff9ee.js";function L(l,i=new WeakMap){if(Object(l)!==l)return l;if(i.has(l))return i.get(l);const m=l instanceof Date?new Date(l):l instanceof RegExp?new RegExp(l.source,l.flags):l instanceof Set?new Set:l instanceof Map?new Map:typeof l.constructor!="function"?Object.create(null):l.prototype!==void 0&&typeof l.prototype.constructor=="function"?l:new l.constructor;if(typeof l.constructor=="function"&&typeof l.valueOf=="function"){const s=l.valueOf();if(Object(s)!==s){const w=new l.constructor(s);return i.set(l,w),w}}return i.set(l,m),l instanceof Set?l.forEach(s=>{m.add(L(s,i))}):l instanceof Map&&l.forEach((s,w)=>{m.set(w,L(s,i))}),Object.assign(m,...Object.keys(l).map(s=>({[s]:L(l[s],i)})))}var he=Ae({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(l,{slots:i,emit:m}){const{proxy:s}=Ve(),{$q:w}=s,v=_(null),h=_(""),d=_("");let p=!1;const M=T(()=>Ye({initialValue:h.value,validate:l.validate,set:D,cancel:k,updatePosition:A},"value",()=>d.value,g=>{d.value=g}));function D(){l.validate(d.value)!==!1&&(f()===!0&&(m("save",d.value,h.value),m("update:modelValue",d.value)),V())}function k(){f()===!0&&m("cancel",d.value,h.value),V()}function A(){Me(()=>{v.value.updatePosition()})}function f(){return Se(d.value,h.value)===!1}function V(){p=!0,v.value.hide()}function N(){p=!1,h.value=L(l.modelValue),d.value=L(l.modelValue),m("beforeShow")}function B(){m("show")}function I(){p===!1&&f()===!0&&(l.autoSave===!0&&l.validate(d.value)===!0?(m("save",d.value,h.value),m("update:modelValue",d.value)):m("cancel",d.value,h.value)),m("beforeHide")}function R(){m("hide")}function O(){const g=i.default!==void 0?[].concat(i.default(M.value)):[];return l.title&&g.unshift(z("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},l.title)),l.buttons===!0&&g.push(z("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[z(x,{flat:!0,color:l.color,label:l.labelCancel||w.lang.label.cancel,onClick:k}),z(x,{flat:!0,color:l.color,label:l.labelSet||w.lang.label.set,onClick:D})])),g}return Object.assign(s,{set:D,cancel:k,show(g){v.value!==null&&v.value.show(g)},hide(g){v.value!==null&&v.value.hide(g)},updatePosition:A}),()=>{if(l.disable!==!0)return z(Fe,{ref:v,class:"q-popup-edit",cover:l.cover,onBeforeShow:N,onShow:B,onBeforeHide:I,onHide:R,onEscapeKey:k},O)}}});const Ge={class:"q-px-sm"},Ze={key:0,class:"float-right q-card__actions--horiz"},et={key:1,class:"float-right q-card__actions--horiz"},tt={key:0},at={key:1},lt={key:2,class:"text-caption"},ot={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},nt=y("div",{class:"text-h6"},"Arrival Date",-1),rt=y("span",{class:"q-ml-sm"},"Release as No Show!",-1),st=y("div",{class:"text-h6"},"Has not arrived.",-1),it=y("br",null,null,-1),ut={__name:"markArrivals",props:{rows:Array,selected:Array,filter:String},emits:["arrivalMarked","updateArrival","arrivalRelease"],setup(l,{emit:i}){const m=l,{rows:s,selected:w}=$e(m),v=_e();De();const{can:h}=Je(),d=_(c().format("YYYY-MM-DD")),p=_(c().subtract(3,"months").format("YYYY-MM-DD")),M=_(!1),D=_(!1),k=_(!1),A=_(!1),f=_(null),V=_(0),N=T(()=>v.screen.gt.sm?[{name:207,label:"Arrival Date",align:"left",field:219,format:e=>`${e&&e.$d&&e.$d.format?e.$d.format("MM/DD/YYYY"):""}`,sortable:!0,style:"text-align: center !important;"},{name:7,label:"Expected Date",align:"left",field:e=>e[33].$d,format:e=>`${e?ye.formatDate(new Date(e),"MM/DD/YYYY"):"N/A"}`,sortable:!0},{name:1,label:"Name",align:"left",field:e=>e[31],format:e=>`${e}`,sortable:!0},{name:9,label:"Phone #",align:"left",field:e=>e[42],format:e=>`${e}`,sortable:!1},{name:2,label:"Workday ID",align:"left",field:e=>e[152],format:(e,a)=>a[20]==="In Process"?"W---------":e,sortable:!0},{name:3,label:"Project",align:"left",field:e=>e[167],format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e[45],format:e=>`${e}`,sortable:!0},{name:5,label:"Job Number",align:"left",field:e=>e[85],format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:6,label:"Site Contact",align:"left",field:e=>e[186],format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0}]:[{name:227,label:"Arrival Date",align:"left",field:219,format:e=>`${e&&e.$d&&e.$d.format?e.$d.format("MM/DD/YYYY"):""}`,sortable:!0},{name:7,label:"Expected Date",align:"left",field:e=>e[33].$d,format:e=>`${e?ye.formatDate(new Date(e),"MM/DD/YYYY"):"N/A"}`,sortable:!0},{name:1,label:"Name",align:"left",field:e=>e[31],format:e=>`${e}`,sortable:!0},{name:9,label:"Phone #",align:"left",field:e=>e[42],format:e=>`${e}`,sortable:!1},{name:2,label:"Workday ID",align:"left",field:e=>e[152],format:(e,a)=>a[20]==="In Process"?"W---------":e,sortable:!0},{name:3,label:"Project",align:"left",field:e=>e[167],format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e[45],format:e=>`${e}`,sortable:!0},{name:5,label:"Job Number",align:"left",field:e=>e[85],format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:6,label:"Site Contact",align:"left",field:e=>e[186],format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0}]),B=T(()=>v.screen.gt.sm?[h("create","projectArrivals")?207:[],7,1,9,2,3,4,5,6]:[h("create","projectArrivals")?207:[],7,1,9,2,3,4,5,6]),I=({rows:e,added:a,evt:t})=>{M.value=!0,i("arrivalMarked",{record:e[0],added:a}),setTimeout(function(){M.value=!1},1500)},R=e=>{M.value=!0,i("arrivalMarked",{record:f.value,added:e}),e?D.value=!1:A.value=!1,setTimeout(function(){M.value=!1},1500)},O=e=>{f.value=e,f.value[227]=d.value,D.value=!0},g=()=>{f.value=null,D.value=!1},P=e=>{f.value=e,A.value=!0},H=()=>{f.value=null,A.value=!1},le=e=>{f.value=e,k.value=!0},Z=()=>{i("arrivalRelease",{record:f.value,added:!0})},W=e=>{e.target.showPicker()},X=async(e,a)=>{a[219]=c(e),V.value+=1,i("updateArrivalDate",{record:a,value:e})};return(e,a)=>(C(),$("div",Ge,[o(We,{dense:"",columns:N.value,rows:S(s),"row-key":t=>t[3],class:"q-pa-sm",filter:l.filter?l.filter.trim():null,pagination:{rowsPerPage:S(v).screen.gt.sm?25:100},separator:"vertical",onSelection:I,selected:S(w),"table-header-class":"bg-dark text-white","no-data-label":"There are no expected arrivals",loading:M.value,"visible-columns":B.value,grid:S(v).screen.lt.sm},{item:n(t=>[y("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:ie(t.selected?"transform: scale(0.95);":"")},[o(F,{bordered:"",flat:"",class:ue(t.selected?S(v).dark.isActive?"bg-grey-9":"bg-grey-2":"")},{default:n(()=>[o(q,null,{default:n(()=>[Y(Q(t.row[31])+" ",1),t.row[20]!=="Complete"||!t.row[207]?(C(),$("span",Ze,[G("",!0),G("",!0)])):(C(),$("span",et,[Y(Q(S(c)(t.row[219]).format("MM/DD/YYYY"))+" ",1),o(x,{icon:"edit",color:"accent",flat:"",size:"xs",class:"q-px-none q-pr-xs"}),(C(),U(he,{key:V.value,"model-value":S(c)(t.row[219]).format("YYYY-MM-DD"),title:"Arrival Date"},{default:n(r=>[o(E,{autofocus:"",onFocus:a[0]||(a[0]=u=>W(u)),dense:"","model-value":r.value,type:"date",max:d.value,min:p.value,rules:[u=>!!u||"Field is required"],"onUpdate:modelValue":u=>X(u,t.row)},null,8,["model-value","max","min","rules","onUpdate:modelValue"])]),_:2},1032,["model-value"])),o(x,{round:"",color:"white",icon:"history",size:"xs",onClick:ce(r=>P(t.row),["stop"])},{default:n(()=>[o(we,{class:"bg-primary"},{default:n(()=>[Y("Revert Back - Has not arrived yet.")]),_:1})]),_:2},1032,["onClick"])]))]),_:2},1024),o(je),o(Ue,{dense:""},{default:n(()=>[(C(!0),$(de,null,me(t.cols.filter(r=>r.name!=="action"),r=>(C(),U(Qe,{key:r.name},{default:n(()=>[o(fe,null,{default:n(()=>[o(ge,null,{default:n(()=>[Y(Q(r.label),1)]),_:2},1024)]),_:2},1024),o(fe,{side:""},{default:n(()=>[o(ge,{caption:""},{default:n(()=>[Y(Q(r.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["class"])],4)]),body:n(t=>[o(Le,{"no-hover":"",props:t,class:ue(t.row[33]&&t.row[33].$d&&e.$dayjs().businessDiff(e.$dayjs(t.row[33].$d),"day",!0)>5&&t.row[20]!=="Complete"?"bg-red-11":"")},{default:n(()=>[(C(!0),$(de,null,me(t.cols,r=>(C(),U(Ee,{key:r.name,props:t,classes:r.name===207&&t.row[20]!=="Complete"||!t.row[207]?"q-card__actions--horiz":"",style:ie(r.style)},{default:n(()=>[r.name===207&&(t.row[20]!=="Complete"||!t.row[207])?(C(),$("span",tt,[G("",!0),G("",!0)])):r.name===207?(C(),$("span",at,[Y(Q(S(c)(t.row[219]).format("MM/DD/YYYY"))+" ",1),(C(),U(he,{key:V.value,"model-value":S(c)(t.row[219]).format("YYYY-MM-DD"),title:"Arrival Date"},{default:n(u=>[o(E,{autofocus:"",onFocus:a[1]||(a[1]=b=>W(b)),dense:"","model-value":u.value,type:"date",max:d.value,min:p.value,rules:[b=>!!b||"Field is required"],"onUpdate:modelValue":b=>X(b,t.row)},null,8,["model-value","max","min","rules","onUpdate:modelValue"])]),_:2},1032,["model-value"])),o(x,{round:"",color:"negative",icon:"history",size:"xs",onClick:ce(u=>P(t.row),["stop"])},{default:n(()=>[o(we,{class:"bg-primary"},{default:n(()=>[Y("Revert Back - Has not arrived yet.")]),_:1})]),_:2},1032,["onClick"])])):(C(),$("span",lt,Q(r.value),1))]),_:2},1032,["props","classes","style"]))),128))]),_:2},1032,["props","class"])]),"no-data":n(({message:t})=>[y("div",ot,[o(qe,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),y("span",null,Q(t),1)])]),loading:n(()=>[o(He,{showing:"",color:"primary"})]),_:1},8,["columns","rows","row-key","filter","pagination","selected","loading","visible-columns","grid"]),o(ae,{modelValue:D.value,"onUpdate:modelValue":a[5]||(a[5]=t=>D.value=t),persistent:""},{default:n(()=>[o(F,{style:{"min-width":"350px"}},{default:n(()=>[o(q,null,{default:n(()=>[nt]),_:1}),o(q,{class:"q-pt-none"},{default:n(()=>[o(E,{dense:"",modelValue:f.value[227],"onUpdate:modelValue":a[2]||(a[2]=t=>f.value[227]=t),autofocus:"",type:"date",max:d.value,min:p.value,rules:[t=>!!t||"Field is required"]},null,8,["modelValue","max","min","rules"])]),_:1}),o(te,{align:"right",class:"text-primary"},{default:n(()=>[o(x,{flat:"",label:"Cancel",onClick:a[3]||(a[3]=t=>g())}),o(x,{flat:"",label:"Confirm",onClick:a[4]||(a[4]=t=>R(!0))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(ae,{modelValue:k.value,"onUpdate:modelValue":a[7]||(a[7]=t=>k.value=t),persistent:""},{default:n(()=>[o(F,null,{default:n(()=>[o(q,{class:"row items-center"},{default:n(()=>[o(Pe,{icon:"person_remove",color:"primary","text-color":"white"}),rt]),_:1}),o(te,{align:"right"},{default:n(()=>[Te(o(x,{flat:"",label:"Cancel",color:"primary"},null,512),[[Xe]]),o(x,{flat:"",label:"Release",color:"primary",onClick:a[6]||(a[6]=t=>Z())})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(ae,{modelValue:A.value,"onUpdate:modelValue":a[10]||(a[10]=t=>A.value=t),persistent:""},{default:n(()=>[o(F,{style:{"min-width":"350px"}},{default:n(()=>[o(q,null,{default:n(()=>[st]),_:1}),o(q,{class:"q-pt-none"},{default:n(()=>[Y(" You are about to erase the arrival date."),it,Y(" Are you sure you want to do this? ")]),_:1}),o(te,{align:"right",class:"text-primary"},{default:n(()=>[o(x,{label:"No",onClick:a[8]||(a[8]=t=>H())}),o(x,{flat:"",label:"Yes",onClick:a[9]||(a[9]=t=>R(!1))})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ct={name:"Arrivals",components:{MarkArrivalsTable:ut,projectSelector:Ke},setup(){const l=_e(),i=Ie(),m=Oe(),s=De(),w=_(null),v=_(""),h=_(""),{getSelectedProject:d}=ve(i),{getUser:p}=ve(m),{fetchAllDeployments:M,updateDeployment:D,getDeployments:k,fetchDeployments:A}=ze(),f=T(()=>d.value?d.value[3]:null),V=T(()=>k(f.value).filter(e=>e[20]==="Complete")),N=T(()=>{let e=k(f.value);return e=v.value?e.filter(a=>c(a[33].$d).tz("America/Chicago").format("MM/DD/YYYY")===c(v.value).tz("America/Chicago").format("MM/DD/YYYY")):e,e=w.value?e.filter(a=>a[132]===w.value):e,e.sort((a,t)=>a[219]-t[219]||a[33]-t[33])}),B=T(()=>[...new Map(N.value.map(e=>[e[132],e[132]])).values()]);async function I(e){l.loading.show(),f.value?await A({projectId:f.value,refresh:e}):await M({refresh:e}),l.loading.hide()}async function R({record:e,added:a}){if(a){if(e[233]&&e[233]!==""){const t=e[227]?c(e[227]):c();let r=e[234],u=null,b=t,J=!0;try{const oe=await be.getWorkers({employeeId:e[152],options:{includePersonalInformation:!1,includeApplicantInformation:!1,includeRelatedPersons:!1,includeOrganizations:!0,excludeCostCenters:!1,excludeCompanies:!1,excludePayGroups:!1,excludeCustomOrganizations:!1,includeCompensation:!1,includeManagementChainData:!1,includeTransactionLogData:!0,transactionDateRangeData:{updatedFrom:c().subtract("1","M").format("YYYY-MM-DD"),updatedThrough:c().format("YYYY-MM-DD")},filter:{count:1,page:1}}});if(oe.total>=1){const K=oe.data[0];r=K.employmentData.positionData.positionId;const ne=K.organizations.find(ee=>ee.typeId==="Customer_Project");if(ne&&(ne.referenceId===e[233]?(J=!1,console.log("does not need update project")):(J=!0,console.log("update project",e[233]))),K.jobHistory.length>0&&J){u=c(K.jobHistory[0].effectiveDate);const ee=u.isSame(t,"day"),ke=u.isSame(c(),"day"),re=u.isSameOrBefore(c(),"day"),se=t.isSameOrBefore(c(),"day"),xe=t.isBefore(u,"day");re&&ke||!se&&re?b=u:se?ee?b=t:xe&&(b=u):b=u}}}catch{console.log("no worker found")}const Ce={employeeId:e[152],positionId:r,customOrganizationId:e[233],effectiveDate:b.format("YYYY-MM-DD"),submittedBy:p.value[70],comment:`Change Organization Assignment Submitted By ${p.value[67]} (${p.value[6]}) from WMP`};if(J)if(r!=="")try{await be.changeCustomOrgAssignment(Ce)}catch{e.failedCustomOrgAssignment=!0,console.log("unable to change add custom org assignment")}else e.failedCustomOrgAssignment=!0}try{const t=await O(e);await g({id:e[21],status:7,assignment:t});const r=await P(e[3],"Complete");D({projectId:r[134],key:r[3],record:r})}catch{const t=[{7:{value:"Assignments By Employee"},9:{value:e[21]}}],{data:r}=await j.fetchFromHiringApp({fields:t});if(r.length===1){await le(r[0]);const u=await O(e);await g({id:e[21],status:7,assignment:u});const b=await P(e[3],"Complete");D({projectId:b[134],key:b[3],record:b})}}}else{await H(e),await g({id:e[21],status:6});const t=await P(e[3],"In Process");D({projectId:t[134],key:t[3],record:t})}}async function O(e){try{const a=e[227]?c(e[227]):c(),{data:t}=await j.upsertRecordsXML({to:"bp3gazpqj",data:[{6:{value:e[3]},13:{value:e[15]},18:{value:e[21]},60:{value:""},125:{value:a},145:{value:a},165:{value:"Active"},...e.failedCustomOrgAssignment&&{204:{value:!0}}}],fieldsToReturn:[108],formatObject:108},{action:"create",type:"arrival"});return t[0][108]}catch(a){throw{message:"Cannot add assignment",error:a}}}async function g({id:e,status:a,assignment:t}){try{const r={3:{value:e},79:{value:a}};t&&(r[609]={value:t[3]});const{data:u}=await j.upsertRecordsXML({to:"bp3gb7ng2",data:[r],fieldsToReturn:[3]});return u[0][3]}catch(r){throw{message:"Cannot edit employee",error:r}}}async function P(e,a){try{const{data:t}=await j.upsertRecordsXML({to:"bp3gaymc3",data:[{3:{value:e},20:{value:a},22:{value:new Date}}],fieldsToReturn:[204],formatObject:204});return t[0][204]}catch(t){throw{message:"Cannot edit deployment",error:t}}}async function H(e){try{const{data:a}=await j.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:e.assignment[3]},22:{value:new Date},21:{value:"Canceled"},19:{value:""},60:{value:""},165:{value:"Inactive"}}],fieldsToReturn:[108],formatObject:108});return a[0][108]}catch(a){throw{message:"Cannot cancel assignment",error:a}}}async function le(e){try{const{data:a}=await j.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:e[3]},21:{value:"Complete"},165:{value:"Inactive"}}],fieldsToReturn:[108],formatObject:108});return a[0][108]}catch(a){throw{message:"Cannot complete assignment",error:a}}}async function Z(e){try{const a=e.value?c(e.value):c();if(e.record.assignment&&e.record.assignment[3]){const{data:t}=await j.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:e.record.assignment[3]},125:{value:a},145:{value:a}}],fieldsToReturn:[3]});return t[0][3]}}catch(a){throw{message:"Cannot edit Assignment",error:a}}}async function W({record:e,added:a}){if(a){const t=await X(e);s.push({name:"ee-termination",params:{id:e[21]},query:{reason:"no-show",hc:e[15],aid:t[3],did:e[3]}})}else{await H(e),await g({id:e[21],status:6});const t=await P(e[3],"In Process");D({projectId:t[134],key:t[3],record:t})}}async function X(e){try{const a=e[207]?c(e[207]):c(),{data:t}=await j.upsertRecordsXML({to:"bp3gazpqj",data:[{6:{value:e[3]},13:{value:e[15]},18:{value:e[21]},60:{value:""},21:{value:"DNC"},112:{value:!0},165:{value:"Inactive"}}],fieldsToReturn:[108],formatObject:108},{action:"create",type:"arrival"});return t[0][108]}catch(a){throw{message:"Cannot release assignment",error:a}}}return I(!0),{arrived:V,allDeployments:N,arrivalMarked:R,updateArrivalDate:Z,arrivalRelease:W,craftOptions:B,craftFilter:w,startDateFilter:v,search:h}}},dt={class:"q-pt-sm"},mt={class:"text-h5 text-dark"},ft={class:"text-body2 text-italic q-ml-sm"},vt=y("div",{class:"text-subtitle2 text-accent"},"Please click on the green checkmark as employees arrive to the job site.",-1),pt={class:"row items-center"},gt={class:"col-12 col-md-3 q-px-sm"},yt={class:"col-12 col-md-3 q-px-sm"},bt={class:"col-12 col-md-3 q-px-sm"},wt={class:"col-12 col-md-3 q-px-sm"};function ht(l,i,m,s,w,v){const h=pe("projectSelector"),d=pe("mark-arrivals-table");return C(),U(Be,{style:{"max-width":"100vw"}},{default:n(()=>[y("div",dt,[o(F,{flat:""},{default:n(()=>[o(q,{class:"q-pb-none"},{default:n(()=>[y("div",mt,[Y(" Expected Arrivals "),y("span",ft,"("+Q(s.allDeployments.length)+" total)",1)]),vt]),_:1}),o(q,null,{default:n(()=>[y("div",pt,[y("div",gt,[o(h,{dense:""})]),y("div",yt,[o(E,{dense:"",modelValue:s.search,"onUpdate:modelValue":i[0]||(i[0]=p=>s.search=p),label:"Search"},null,8,["modelValue"])]),y("div",bt,[o(E,{dense:"",modelValue:s.startDateFilter,"onUpdate:modelValue":i[1]||(i[1]=p=>s.startDateFilter=p),label:"Expected Date",type:"date","stack-label":""},null,8,["modelValue"])]),y("div",wt,[o(Re,{dense:"",label:"Craft","transition-show":"flip-up","transition-hide":"flip-down",modelValue:s.craftFilter,"onUpdate:modelValue":i[2]||(i[2]=p=>s.craftFilter=p),options:s.craftOptions,"use-chips":""},null,8,["modelValue","options"])])])]),_:1})]),_:1}),o(d,{rows:s.allDeployments,selected:s.arrived,onArrivalRelease:s.arrivalRelease,onArrivalMarked:s.arrivalMarked,onUpdateArrivalDate:s.updateArrivalDate,filter:s.search},null,8,["rows","selected","onArrivalRelease","onArrivalMarked","onUpdateArrivalDate","filter"])])]),_:1})}var Zt=Ne(ct,[["render",ht]]);export{Zt as default};
