import{l as P,c as C,_ as x,y as i,ap as y,bq as r,B as t,bN as se,d as s,cT as re,cU as E,ab as n,bR as oe,aw as k,bP as S,aq as u,dn as M,z as w,cV as le,bV as B,bS as ne,bU as Z,r as O,w as W,b4 as z,cj as ce}from"./index.5ce04a7d.js";import{Q as ue}from"./QPage.d4eb12e0.js";import{Q as ie,a as me}from"./QStep.5914ff3c.js";import{k as H,m as J,e as pe}from"./app.d7de81a1.js";import{d as X}from"./disability.f89e4030.js";import{Q as F}from"./QTooltip.248728d5.js";import{Q as de}from"./QStepperNavigation.eaf39128.js";import{a as fe,u as T}from"./vee-validate.esm.103b5de2.js";import{a as L,c as Q,g as ve}from"./array.164cfe36.js";import"./use-panel.d197eaaa.js";import"./touch.3df10340.js";import"./selection.a822afb9.js";import"./QSlideTransition.9a7f2521.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.e9c58f53.js";import"./localForage.997eedf9.js";import"./index.04bc0a32.js";import"./i18n.31e4f477.js";import"./position-engine.2b2e7648.js";const be=P({props:{title:String,step:Number,name:Number},setup(){const{updateVoluntaryForm:e,submitAffirmativeToQB:o,updateProfile:f}=H(),{voluntaryFormOptions:v}=J(),g=C(()=>v.affirmative.filter(d=>d[10]==="Gender")),_=C(()=>v.affirmative.filter(d=>d[10]==="Ethnicity")),a=C(()=>v.affirmative.filter(d=>d[10]==="Race")),V=L({gender:Q().required("Make a Selection").nullable(),ethnicity:Q().required("Make a Selection").nullable(),race:Q().required("Make a Selection").nullable(),initials:Q().required({message:"Initials are required."}).matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Initials cannot contain numbers or special characters."}).min(2,{message:"Initials must be two or three letters."}).max(3,{message:"Initials must be two or three letters."})}),{meta:m,errors:b,handleSubmit:I}=fe({validationSchema:V}),{value:$}=T("gender"),{value:A}=T("ethnicity"),{value:D}=T("race"),{value:R}=T("initials"),j=I(async d=>{const l=g.value.find(p=>p.value===d.gender),q=_.value.find(p=>p.value===d.ethnicity),h=a.value.find(p=>p.value===d.race),U={16:{value:d.gender,label:l.label},20:{value:d.ethnicity,label:q.label},22:{value:d.race,label:h.label},24:{value:new Date},34:{value:d.initials}};await e({next:8,values:U,type:"affirmative"}),o()});function Y(){f({next:8})}function G(){f({next:6})}return{save:Y,back:G,submitUpdate:j,formMeta:m,formErrors:b,genderOptions:g,gender:$,ethnicityOptions:_,ethnicity:A,raceOptions:a,race:D,initials:R}}}),he={class:"row justify-center"},ye={class:"col-12 col-lg-10"},ge={class:"row justify-center"},_e={class:"col-12"},$e={class:"text-h6 text-primary"},ke=t("hr",null,null,-1),qe={class:"text-body2 text-dark q-mb-sm"},Se={class:"text-body2 text-dark q-mb-sm"},Ee=t("div",{class:"text-h6 text-dark"},"Affirmative Action Related Data",-1),Ve=t("div",{class:"text-subtitle2 text-italic"},"Please check appropriate boxes.",-1),we={class:"row"},Ie={class:"col-12 col-lg-5 q-pr-sm"},Qe={class:"text-body1 text-primary"},Ue={class:"q-py-sm"},Ce={key:0,class:"q-pl-md error-message text-body2"},Ne={class:"col-12 col-lg-4 q-pr-sm"},Oe={class:"text-body1 text-primary"},Te={class:"q-py-sm"},Me={key:0,class:"q-pl-md error-message text-body2"},ze={class:"col-12 col-lg-3 q-pr-sm"},Fe={class:"text-body1 text-primary"},Be={class:"q-py-sm"},Pe={key:0,class:"q-pl-md error-message text-body2"},xe={class:"row"},Ae={class:"col-6 col-md-3 col-lg-2"};function De(e,o,f,v,g,_){return i(),y(ie,{step:e.step,name:e.name,title:e.title},{default:r(()=>[t("div",he,[t("div",ye,[t("form",{onSubmit:o[4]||(o[4]=se((...a)=>e.submitUpdate&&e.submitUpdate(...a),["prevent"]))},[t("div",null,[t("div",ge,[t("div",_e,[s(re,null,{default:r(()=>[s(E,null,{default:r(()=>[t("div",$e,n(e.$t("affirmativeTitle")),1),ke,t("div",qe,n(e.$t("affirmativeStatement1")),1),t("div",Se,n(e.$t("affirmativeStatement2")),1)]),_:1}),s(oe),s(E,{class:"q-pb-none"},{default:r(()=>[Ee,Ve]),_:1}),s(E,null,{default:r(()=>[t("div",we,[t("div",Ie,[t("div",Qe,[k(" Race "),e.formErrors.race?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",Ue,[s(M,{options:e.raceOptions,type:"radio",modelValue:e.race,"onUpdate:modelValue":o[0]||(o[0]=a=>e.race=a)},{label:r(a=>[t("span",null,n(a.label),1),a[8]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[8]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.formErrors.race?(i(),w("div",Ce,n(e.formErrors.race),1)):u("",!0)])]),t("div",Ne,[t("div",Oe,[k(" Ethnicity "),e.formErrors.ethnicity?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",Te,[s(M,{options:e.ethnicityOptions,type:"radio",modelValue:e.ethnicity,"onUpdate:modelValue":o[1]||(o[1]=a=>e.ethnicity=a)},{label:r(a=>[t("span",null,n(a.label),1),a[8]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[8]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.formErrors.ethnicity?(i(),w("div",Me,n(e.formErrors.ethnicity),1)):u("",!0)])]),t("div",ze,[t("div",Fe,[k(" Gender "),e.formErrors.gender?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",Be,[s(M,{options:e.genderOptions,type:"radio",modelValue:e.gender,"onUpdate:modelValue":o[2]||(o[2]=a=>e.gender=a)},{label:r(a=>[t("span",null,n(a.label),1),a[8]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[8]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.formErrors.gender?(i(),w("div",Pe,n(e.formErrors.gender),1)):u("",!0)])])])]),_:1}),s(E,null,{default:r(()=>[t("div",xe,[t("div",Ae,[s(le,{maxlength:"3",dense:e.$q.screen.lt.md,modelValue:e.initials,"onUpdate:modelValue":o[3]||(o[3]=a=>e.initials=a),label:"Your Initials",hint:"Your Initials",error:!!e.formErrors.initials,"bottom-slots":""},null,8,["dense","modelValue","error"])])])]),_:1})]),_:1})])])]),s(de,{class:"text-right"},{default:r(()=>[s(B,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),s(B,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)])])]),_:1},8,["step","name","title"])}var ee=x(be,[["render",De]]);const Re=P({props:{title:String,step:Number,name:Number},setup(){const{updateEmployeeData:e}=pe(),o=ne(),f=H(),{updateVetsForm:v,submitVeteransToQB:g,updateProfile:_}=f,{proceedToTest:a}=Z(f),{voluntaryFormOptions:V}=J(),m=O([]),b=O(null),I=O(""),$=O(null),A=Q().required({message:"Initials are required."}).matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Initials cannot contain numbers or special characters."}).min(2,{message:"Initials must be two or three letters."}).max(3,{message:"Initials must be two or three letters."}),D=L({initials:Q().required({message:"Initials are required."}).matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Initials cannot contain numbers or special characters."}).min(2,{message:"Initials must be two or three letters."}).max(3,{message:"Initials must be two or three letters."}),veteran:ve().of(L()).min(1,{message:"You must select at least one."})}).required(),R=C(()=>b.value?b.value:null),j=C(()=>$.value?$.value:null);async function Y(){const l=[],q=V.veterans[0][9],h=V.veterans[0][10];m.value.forEach(p=>{const c={6:{value:q,label:h},8:{value:p.value,label:p.label}};l.push(c)});const U={8:{value:q,label:h},17:{value:new Date},16:{value:I.value.toUpperCase()}},N={next:0,values:U,selections:l};m.value.length===0&&(b.value="Make a Selection");try{await D.validate({initials:I.value,veteran:m.value}),$.value=null,b.value=null,await v(N),await g(),a.value?(e({fields:{122:{value:8}}}),o.replace({name:"assessment"})):o.replace({name:"thanks"})}catch({name:p,path:c,errors:K,inner:mt}){c==="veteran"?b.value=K[0].message:c==="initials"&&($.value=K[0].message)}}function G(){_({next:8})}function d(){_({next:7})}return W(m,(l,q)=>{console.log(l);const h=l.find(c=>c.value===6),U=q.find(c=>c.value===6),N=q.find(c=>c.value===7),p=l.find(c=>c.value===7);l.length===0?b.value="Make a Selection":b.value=null,U!==void 0&&l.length>1?m.value=l.filter(c=>c.value!==6):h!==void 0&&l.length>1?m.value=[h]:N!==void 0&&l.length>1?m.value=l.filter(c=>c.value!==7):p!==void 0&&l.length>1&&(m.value=[p])}),W(I,async(l,q)=>{try{await A.validate(l),$.value=null}catch({errors:h}){h[0]instanceof Object?$.value=h[0].message:$.value=h[0]}}),{save:G,back:d,submitUpdate:Y,voluntaryFormOptions:V,veteran:m,vetError:R,initials:I,initialsError:j}}}),je={class:"row justify-center"},Ye={class:"col-12"},Ge={class:"text-h6 text-primary"},Le=t("hr",null,null,-1),Ze={class:"text-body2 text-dark q-mb-sm"},He={class:"text-body2 text-dark q-mb-sm"},Je=t("div",{class:"text-h6 text-dark"},"Multiple Categories May be Selected if Veteran Falls into Multiple Categories.",-1),Ke=t("div",{class:"text-subtitle2 text-italic"},"Please check the appropriate boxes.",-1),We={class:"row"},Xe={class:"col-12 col-lg-8"},et={class:"text-body1 text-primary"},tt={class:"q-py-sm"},at={key:0,class:"q-pl-md error-message text-body2"},st={class:"row"},rt={class:"col-6 col-md-3 col-lg-2"};function ot(e,o,f,v,g,_){return i(),y(ie,{step:e.step,name:e.name,title:e.title},{default:r(()=>[t("form",{onSubmit:o[2]||(o[2]=se((...a)=>e.submitUpdate&&e.submitUpdate(...a),["prevent"]))},[t("div",null,[t("div",je,[t("div",Ye,[s(re,null,{default:r(()=>[s(E,null,{default:r(()=>[t("div",Ge,n(e.$t("veteranTitle")),1),Le,t("div",Ze,n(e.$t("veteranStatement1")),1),t("div",He,n(e.$t("veteranStatement2")),1)]),_:1}),s(oe),s(E,{class:"q-pb-none"},{default:r(()=>[Je,Ke]),_:1}),s(E,null,{default:r(()=>[t("div",We,[t("div",Xe,[t("div",et,[k(" Please check the box if you are: "),e.vetError?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",tt,[s(M,{options:e.voluntaryFormOptions.veterans,type:"checkbox",modelValue:e.veteran,"onUpdate:modelValue":o[0]||(o[0]=a=>e.veteran=a)},{label:r(a=>[t("span",null,n(a.label),1),a[7]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[7]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.vetError?(i(),w("div",at,n(e.vetError),1)):u("",!0)])])])]),_:1}),s(E,null,{default:r(()=>[t("div",st,[t("div",rt,[s(le,{maxlength:"3",dense:e.$q.screen.lt.md,modelValue:e.initials,"onUpdate:modelValue":o[1]||(o[1]=a=>e.initials=a),label:"Your Initials",hint:"Your Initials",error:!!e.initialsError,"bottom-slots":""},{error:r(()=>[k(n(e.initialsError),1)]),_:1},8,["dense","modelValue","error"])])])]),_:1})]),_:1})])])]),s(de,{class:"text-right"},{default:r(()=>[s(B,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),s(B,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)]),_:1},8,["step","name","title"])}var te=x(Re,[["render",ot]]);const lt=P({components:{disability:X,affirmative:ee,veteran:te},setup(){const{step:e}=Z(H());return{step:e,disability:X,affirmative:ee,veteran:te}}});function nt(e,o,f,v,g,_){const a=z("disability"),V=z("affirmative"),m=z("veteran");return i(),w("div",null,[s(me,{modelValue:e.step,"onUpdate:modelValue":o[0]||(o[0]=b=>e.step=b),animated:"","done-color":"info","active-color":"dark","inactive-color":"secondary"},{default:r(()=>[s(a,{title:"",name:6,done:e.step>6},null,8,["done"]),s(V,{title:"",name:7,done:e.step>7},null,8,["done"]),s(m,{title:"",name:8,done:e.step>8},null,8,["done"])]),_:1},8,["modelValue"])])}var ae=x(lt,[["render",nt]]);const it=P({components:{stepper:ae},setup(){const e=J(),{disabilityForm:o}=e,{voluntaryLoadingState:f}=Z(e),v=ne();function g(){o||v.replace({name:"apply"})}return g(),{stepper:ae,voluntaryLoadingState:f}}}),dt={key:0,class:"absolute-center"},ct={key:1};function ut(e,o,f,v,g,_){const a=z("stepper");return i(),y(ue,{style:{"max-width":"100vw","max-height":"100vh"}},{default:r(()=>[e.voluntaryLoadingState?(i(),w("div",dt,[s(ce,{color:"primary",size:"5em"})])):u("",!0),e.voluntaryLoadingState?u("",!0):(i(),w("div",ct,[s(a)]))]),_:1})}var Nt=x(it,[["render",ut]]);export{Nt as default};
