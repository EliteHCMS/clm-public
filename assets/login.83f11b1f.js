import{Q as pe}from"./QImg.59eb9cc8.js";import{_ as ge,bT as fe,bS as ye,r as c,c as B,w as T,b4 as U,y as d,ap as f,bq as l,aP as j,z as v,d as o,aq as r,B as t,cU as b,ab as G,bN as he,bM as ke,cV as $,au as ve,bV as W,bP as Z,C as be,cW as _e,bQ as E,aw as y,cT as we,b0 as xe,a_ as Te}from"./index.48ce5b72.js";import{Q as We}from"./QForm.bcdbd200.js";import{Q as R}from"./QSelect.06d0b9ce.js";import{Q as Ce}from"./QBanner.7cdb0ed3.js";import{Q as Ve}from"./QPage.eef4aa2f.js";import{u as Ne}from"./use-quasar.468e1258.js";import{u as F}from"./vee-validate.esm.51002094.js";import{p as Me}from"./VueTelInput.9759aed8.js";import{_ as Se}from"./languageSelector.3c000b14.js";import{c as q}from"./array.164cfe36.js";import{c as Ue}from"./carousel.28aeab54.js";import{b as qe,q as ee,h as He}from"./app.5e67c239.js";import{u as De}from"./i18n.0c36ad49.js";import{h as ae}from"./HelpDeskTicket.0f98692d.js";import"./QChip.d193a000.js";import"./QMenu.62e1eee7.js";import"./position-engine.a6f346a0.js";import"./selection.e8d17b8a.js";import"./rtl.b51694b1.js";import"./_commonjsHelpers.a26ce4be.js";import"./use-panel.a2490dda.js";import"./touch.3df10340.js";import"./use-fullscreen.735db5b1.js";import"./dayjs.9bb68654.js";import"./localForage.a179cfc1.js";import"./index.04bc0a32.js";import"./QTooltip.f21cfa79.js";import"./QFile.b64e78dd.js";import"./QSpinnerGears.8b7dc0e7.js";const Pe={name:"Login",components:{phoneNumberInput:Me,carousel:Ue,languageSelector:Se,helpDeskTicket:ae},setup(){const n=Ne(),i=fe(),C=ye(),{locale:e,t:V}=De(),{currentUserType:N,currentPageType:Y,openWindow:h}=qe(),u=c(!1),m=c(!1),M=c(10),s=c(!1),S=c(null),H=c(!1),oe=c("first"),_=c("username"),J=c(null),z=c(null),D=c(!1),P=c(!1),le=c(!1);i.query.redirect&&(z.value=i.query.redirect,C.replace({query:{}}));const te=B(()=>u.value?q().email(`${V("validEmailIsRequired")}`).nullable():q().email(`${V("validEmailIsRequired")}`).nullable()),ne=B(()=>{if(m.value)return q().nullable();{const a=new RegExp("^[0-9]{"+M.value+"}","g");return q().matches(a,{excludeEmptyString:!0,message:`${V("validPhoneIsRequired")}`}).nullable()}}),re=B(()=>q().required().min(8).matches(/^(?=.*\d)(?=.*[A-Za-z])(?=.*[a-zA-Z]).{8,}$/,{excludeEmptyString:!0,message:`${V("passwordRules")}`}).nullable()),{errorMessage:A,value:w}=F("email",te),{errorMessage:I,value:k}=F("phone",ne),{errorMessage:L,value:x,validate:se}=F("password",re),ie=c(!0);T(A,a=>{a||w.value===""?m.value=!1:m.value=!0}),T(w,a=>{!a||a===""?m.value=!1:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(a)&&!A.value&&(m.value=!0)}),T(I,a=>{a||k.value===""?u.value=!1:u.value=!0}),T(k,a=>{!a||a===""?u.value=!1:a.length===M.value&&!I.value&&(u.value=!0)}),T(L,a=>{a||x.value===""?s.value=!1:s.value=!0}),T(x,a=>{H.value=!1,!a||a===""?s.value=!1:se().then(p=>{s.value=p.valid})});const de=a=>{M.value=a},X=B(()=>!(u.value||m.value)),ce=a=>{S.value=a},ue=()=>{_.value="username",x.value=null,j(()=>{document.querySelector("#email").focus()})},me=()=>{_.value="username",x.value=null,j(()=>{document.querySelector("#phoneNumber").focus()})},O=async()=>{P.value=!0;const a={userType:N};u.value?a.phoneNumber=`+${S.value?S.value.dialCode:"1"}${k.value}`:m.value&&(a.email=w.value);try{const p=await ee.checkIfUserExist(a);P.value=!1,p?(_.value="password",j(()=>{document.querySelector("#password").focus()})):N==="Candidate"?C.push({name:"register",params:{...u.value&&{phoneTemp:k.value},...m.value&&{emailTemp:a.email}}}):n.dialog({title:"Alert",message:u.value?"That phone number does not exist. Try again.":"That email does not exist. Try again."}).onOk(()=>{k.value="",u.value=!1,w.value="",m.value=!1})}catch(p){P.value=!1,console.log(p)}},K=async()=>{D.value=!0,clearTimeout(J.value);const a={password:He.encodeHTML(x.value),userType:N};u.value?a.phoneNumber=`+${S.value?S.value.dialCode:"1"}${k.value}`:m.value&&(a.email=w.value);try{const p=await ee.login(a);D.value=!1,p&&(z.value?C.push(z.value):C.push({path:"/"}))}catch(p){D.value=!1,J.value=setTimeout(function(){H.value=!1},7e3);const{response:Q}=p;Q&&Q.data.errtext&&Q.data.errdetail?n.notify({type:"negative",message:Q.data.errdetail,timeout:7e3,position:n.screen.lt.md?"top":"top-right"}):(console.log(p),n.notify({type:"negative",message:"An error occurred, please try again later",timeout:7e3,position:n.screen.lt.md?"top":"top-right"}))}};return{email:w,phone:k,password:x,isPwd:ie,validPhone:u,validEmail:m,step:_,validPassword:s,invalidLogin:H,continueProgress:P,loginProgress:D,passwordMessage:L,phoneMessage:I,emailMessage:A,userNameInvalid:X,updatePhoneMaxLength:de,continueAction:O,editUserNameEmail:ue,editUserNamePhoneNumber:me,slide:oe,login:K,updateCountry:ce,onSubmit:a=>{_.value==="username"&&!X.value?O():_.value==="password"&&!(!s.value||H.value)?K():a.preventDefault()},locale:e,currentUserType:N,currentPageType:Y,helpDeskTicket:ae,addTicket:le,openFountain:a=>{h(null,{url:"https://careers.brandsafway.fountain.com/brandsafway?locale=en",name:"BrandSafway Career Site"})},openWorkdayHelp:a=>{h(null,{url:"https://www.myworkday.com/brandsafway/wdhelp/helpcenter/create",name:"Workday Help"})},openWorkdayHiring:a=>{h(null,{url:"https://www.myworkday.com/brandsafway/d/wday/app/workdayHiring_scvslf/workdayHiring_scvslf.htmld",name:"Workday Hiring"})},openWorkdayHiringJobAid:a=>{h(null,{url:"https://beisoffice.sharepoint.com/:b:/t/fountainworkdayhiringimplementationcommunity/EVNhKWyAFutBgaErEbFSza8BtRAdfvBKmbBblsJgMfFPug?e=oteKNB&xsdata=MDV8MDJ8a211dGhAYnJhbmRzYWZ3YXkuY29tfDY3NmUwYjVkM2YzZTQwOWU5Yzk5MDhkZTA4NDRlZmU5fDQwZWY1ODcyMzEwZTQ0MWNhYjBhNzYxNjQ4OWI5MWE3fDB8MHw2Mzg5NTcyODkzNDk1Mzg4MDN8VW5rbm93bnxUV0ZwYkdac2IzZDhleUpGYlhCMGVVMWhjR2tpT25SeWRXVXNJbFlpT2lJd0xqQXVNREF3TUNJc0lsQWlPaUpYYVc0ek1pSXNJa0ZPSWpvaVRXRnBiQ0lzSWxkVUlqb3lmUT09fDB8fHw%3d&sdata=MjhXQVE2SUU5YUF2eHJ6TUJIOW1Kclh2dGlTSUNSSm91TUExUWF1azFsWT0%3d",name:"Workday Hiring Job Aid"})},openWorkdayHiringDemoVideo:a=>{h(null,{url:"https://beisoffice.sharepoint.com/:v:/t/fountainworkdayhiringimplementationcommunity/EV0WNtMsu_1Mng7xEWFL6ogByaXsFr7jfCqBHiK-9xURMA?e=vLg5eZ&xsdata=MDV8MDJ8a211dGhAYnJhbmRzYWZ3YXkuY29tfDY3NmUwYjVkM2YzZTQwOWU5Yzk5MDhkZTA4NDRlZmU5fDQwZWY1ODcyMzEwZTQ0MWNhYjBhNzYxNjQ4OWI5MWE3fDB8MHw2Mzg5NTcyODkzNDk1NzM1NzJ8VW5rbm93bnxUV0ZwYkdac2IzZDhleUpGYlhCMGVVMWhjR2tpT25SeWRXVXNJbFlpT2lJd0xqQXVNREF3TUNJc0lsQWlPaUpYYVc0ek1pSXNJa0ZPSWpvaVRXRnBiQ0lzSWxkVUlqb3lmUT09fDB8fHw%3d&sdata=eWdKdGFFSTNkWGQvVjhLZkZkQ0VjYnkySFluRWlvK05FRW1qOHVLWC9WRT0%3d",name:"Workday Hiring Demo Video"})}}}},g=n=>(xe("data-v-8711b64c"),n=n(),Te(),n),Qe={key:0,class:"col-md-7 col-lg-8 col-lx-8"},Be={class:"col-xs-12 col-sm-12 col-md-5 col-lg-4 col-lx-4 row justify-center items-center"},Ee={key:0,class:"text-red text-h6"},Re={key:1,class:"text-red text-h6"},Ye={key:2,class:"text-dark"},ze={key:1,class:"divider"},Ae={class:"divider-text"},Ie={key:0,class:"text-red text-h6"},je={key:1},Ze=g(()=>t("span",null,[y("Starting on 10/27/2025, "),t("b",null,"WMP"),y(" will be replaced by "),t("b",null,"Workday Hiring"),y(", all new Hire Request and Releases will need to be initiated from "),t("b",null,"Workday Hiring"),y(".")],-1)),Fe=g(()=>t("span",null,[y(" Along with "),t("b",null,"Workday Hiring"),y(", a new ATS ("),t("b",null,"Fountain"),y(") will be replacing CEM that is currently being used by the Hiring Centers.")],-1)),Je=g(()=>t("span",null,[y(" Click on the following Links and Job Aids to help transition to "),t("b",null,"Workday Hiring")],-1)),Le={class:"q-pa-md q-gutter-sm"},Xe=g(()=>t("b",null,"Workday Hiring - NEW APP",-1)),Oe=g(()=>t("b",null,"Workday Hiring - Job Aid - Billable",-1)),Ke=g(()=>t("b",null,"Billable Demo Video",-1)),Ge=g(()=>t("b",null,"Workday Help",-1));const $e={class:"row justify-center"},ea={class:"row justify-center"},aa=g(()=>t("br",null,null,-1)),oa={class:"row justify-center"},la=g(()=>t("br",null,null,-1)),ta={class:"row justify-center"};function na(n,i,C,e,V,N){const Y=U("carousel"),h=U("phone-number-input"),u=U("router-link"),m=U("languageSelector"),M=U("helpDeskTicket");return d(),f(Ve,{class:"window-height window-width row"},{default:l(()=>[n.$q.screen.lt.md?r("",!0):(d(),v("div",Qe,[o(Y)])),t("div",Be,[o(we,{class:"auth-card",flat:""},{default:l(()=>[o(b,{style:{"padding-left":"30px","padding-right":"30px"}},{default:l(()=>[o(pe,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",fit:"scale-down",class:"auth-logo full-width"})]),_:1}),o(b,{class:"text-center auth-description"},{default:l(()=>[e.currentUserType==="Candidate"?(d(),v("p",Ee,"This App is no longer in use, please use BrandSafway Career Site to apply!")):r("",!0),e.currentUserType==="Project User"?(d(),v("p",Re,"WMP is no longer in use, please use Workday Hiring to submit new Hire Request and Releases!")):r("",!0),e.currentUserType!="Candidate"?(d(),v("p",Ye,G(n.$t("pleaseSignInToYourAccount")),1)):r("",!0)]),_:1}),o(b,null,{default:l(()=>[o(We,{class:"q-px-sm q-pt-sm",onSubmit:i[4]||(i[4]=he(()=>{},["prevent"])),onKeyup:ke(e.onSubmit,["enter"])},{default:l(()=>[!e.validEmail&&!e.validPhone||e.validEmail?(d(),f($,{key:0,for:"email",style:{"padding-bottom":"0px"},autocomplete:"username",clearable:"",outlined:"",modelValue:e.email,"onUpdate:modelValue":i[0]||(i[0]=s=>e.email=s),type:"email",label:n.$t("email"),tabindex:"1",error:!!e.emailMessage,"error-message":e.emailMessage,readonly:e.step!=="username"},ve({prepend:l(()=>[o(Z,{name:"email"})]),_:2},[e.step!=="username"?{name:"append",fn:l(()=>[o(W,{round:"",dense:"",flat:"",icon:"edit",onClick:e.editUserNameEmail},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","label","error","error-message","readonly"])):r("",!0),!e.validEmail&&!e.validPhone&&e.currentUserType==="Candidate"?(d(),v("div",ze,[t("div",Ae,G(n.$t("or")),1)])):r("",!0),(!e.validEmail&&!e.validPhone||e.validPhone)&&e.currentUserType==="Candidate"?(d(),f(h,{key:2,outlined:"",for:"phoneNumber",modelValue:e.phone,"onUpdate:modelValue":i[1]||(i[1]=s=>e.phone=s),label:n.$t("phoneNumber"),tabindex:"1",autocomplete:"username",onMaxLengthChanged:e.updatePhoneMaxLength,style:be(e.phoneMessage?"padding-bottom: 20px;":"padding-bottom: 0px;"),error:!!e.phoneMessage,"error-message":e.phoneMessage,readonly:e.step!=="username",editIcon:e.step!=="username",onEditClicked:e.editUserNamePhoneNumber,onCountryChanged:e.updateCountry},null,8,["modelValue","label","onMaxLengthChanged","style","error","error-message","readonly","editIcon","onEditClicked","onCountryChanged"])):r("",!0),e.step==="password"?(d(),f($,{key:3,for:"password",class:"q-mt-lg",outlined:"",modelValue:e.password,"onUpdate:modelValue":i[3]||(i[3]=s=>e.password=s),type:e.isPwd?"password":"text",label:n.$t("password"),autocomplete:"current-password",tabindex:"2",error:!!e.passwordMessage,"error-message":e.passwordMessage},{append:l(()=>[o(Z,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:i[2]||(i[2]=s=>e.isPwd=!e.isPwd)},null,8,["name"])]),prepend:l(()=>[o(Z,{name:"lock"})]),_:1},8,["modelValue","type","label","error","error-message"])):r("",!0)]),_:1},8,["onKeyup"])]),_:1}),o(_e,{class:"q-px-lg"},{default:l(()=>[e.step==="username"?(d(),f(W,{key:0,loading:e.continueProgress,unelevated:"",size:"lg",color:"primary",class:"full-width text-white",label:n.$t("continue"),tabindex:"3",disabled:e.userNameInvalid||e.currentUserType==="Candidate",onClick:e.continueAction},null,8,["loading","label","disabled","onClick"])):r("",!0),e.step==="password"?(d(),f(W,{key:1,loading:e.loginProgress,unelevated:"",size:"lg",color:"primary",class:"full-width text-white",label:n.$t("login"),tabindex:"3",disabled:!e.validPassword||e.invalidLogin||e.currentUserType==="Candidate",onClick:e.login},null,8,["loading","label","disabled","onClick"])):r("",!0)]),_:1}),o(b,{class:"text-center q-pa-sm"},{default:l(()=>[e.currentUserType==="Candidate"?(d(),v("p",Ie,"This App is no longer in use, please use BrandSafway Career Site to apply!")):r("",!0),e.currentUserType==="Project User"?(d(),v("div",je,[o(Ce,{rounded:""},{default:l(()=>[Ze,Fe,Je,t("div",Le,[o(E,{to:"/",onClick:e.openWorkdayHiring,dense:""},{default:l(()=>[o(R,null,{default:l(()=>[Xe]),_:1})]),_:1},8,["onClick"]),o(E,{to:"/",onClick:e.openWorkdayHiringJobAid,dense:""},{default:l(()=>[o(R,null,{default:l(()=>[Oe]),_:1})]),_:1},8,["onClick"]),o(E,{to:"/",onClick:e.openWorkdayHiringDemoVideo,dense:""},{default:l(()=>[o(R,null,{default:l(()=>[Ke]),_:1})]),_:1},8,["onClick"]),o(E,{to:"/",onClick:e.openWorkdayHelp,dense:""},{default:l(()=>[o(R,null,{default:l(()=>[Ge]),_:1})]),_:1},8,["onClick"])])]),_:1})])):r("",!0),(e.currentUserType,r("",!0)),(e.currentUserType,r("",!0)),(e.currentUserType,r("",!0))]),_:1}),o(b,{class:"q-pl-lg q-pa-sm"},{default:l(()=>[t("div",$e,[o(m,{dense:"",borderless:""})])]),_:1}),e.currentUserType==="Project User"?(d(),f(b,{key:0,class:"q-pl-lg q-pa-sm"},{default:l(()=>[t("div",ea,[o(W,{label:"Open Workday Hiring",color:"primary",size:"md",class:"text-white q-mt-xl",onClick:e.openWorkdayHiring},null,8,["onClick"]),aa])]),_:1})):r("",!0),e.currentPageType==="Candidate Kiosk"?(d(),f(b,{key:1,class:"q-pl-lg q-pa-sm"},{default:l(()=>[t("div",oa,[o(W,{label:"BrandSafway Career Site",color:"primary",size:"md",class:"text-white q-mt-xl",onClick:e.openFountain},null,8,["onClick"]),la]),t("div",ta,[o(W,{label:"Bookmarks",color:"primary",size:"md",class:"text-white q-mt-xl",to:{name:"bookmarks"}})])]),_:1})):r("",!0)]),_:1})]),o(M,{modelValue:e.addTicket,"onUpdate:modelValue":i[6]||(i[6]=s=>e.addTicket=s)},null,8,["modelValue"])]),_:1})}var Aa=ge(Pe,[["render",na],["__scopeId","data-v-8711b64c"]]);export{Aa as default};
